#ifndef RESULTSPARSER_H
#define RESULTSPARSER_H

#include "ResultsParserStructures.h"

#include <string>
#include <vector>
#include <memory>

class ResultsParser
{
public:
    /// @brief Starts parsing results in default results directory
    void run();

private:
    /// @brief Reads one scan report file
    /// @param [in] reportFilePath      scan report file path
    void processOneFile(const std::string& reportFilePath);

    /// @brief Parses one sample file from report file
    /// @param [in] reportFile          std::ifstream for report file
    void parseOneSampleFile(std::ifstream& reportFile);

    /// @brief Returns mutation set. Creates first if doesn't exist
    /// @param [in] name                mutation set name
    /// @return mutation set
    std::shared_ptr<MutationSet> getMutationSet(std::string name);

    /// @brief Calculates and prints results
    void printResults();

private:
    std::vector<std::shared_ptr<MutationSet>> m_mutationSets;
};

#endif