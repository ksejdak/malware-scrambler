#include "version.h"

#include <locale>
#include <sstream>
#include <boost\date_time.hpp>
#include <boost\assign.hpp>

std::string compileTime()
{
    return __TIME__;
}

std::string compileDate()
{
    std::stringstream ss;
    ss << __DATE__;

    std::string month;
    std::string day;
    int year;

    ss >> month;
    ss >> day;
    if(day.size() == 1)
        day.insert(0, "0");

    ss >> year;

    std::map<std::string, std::string> months = boost::assign::map_list_of("Jan", "01")
                                                                          ("Feb", "02")
                                                                          ("Mar", "03")
                                                                          ("Apr", "04")
                                                                          ("May", "05")
                                                                          ("Jun", "06")
                                                                          ("Jul", "07")
                                                                          ("Aug", "08")
                                                                          ("Sep", "09")
                                                                          ("Oct", "10")
                                                                          ("Nov", "11")
                                                                          ("Dec", "12")
                                                                          ;

    std::stringstream date;
    date << day << "." << months[month] << "." << year;

    return date.str();
}

const std::string PROGRAM_VERSION = "0.540a";
const std::string PROGRAM_AUTHOR  = "Kuba Sejdak <kuba.sejdak@gmail.com>";
const std::string BUILD_TIME      = compileTime();
const std::string BUILD_DATE      = compileDate();