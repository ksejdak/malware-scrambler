#include "Utils\ArgsParser\ArgsParser.h"
#include "Core\CoreSystem.h"

#include <iostream>
#include <exception>
#include <map>

int main(int argc, char *argv[])
{
    try
    {
        ArgsParser argsParser;
        argsParser.parse(argc, argv);

        MainOptions mainOptions = argsParser.getMainOptions();

        CoreSystem core(mainOptions);
        core.run();
    }
    catch(std::exception& e)
    {
        std::cout << "[ERROR] " << e.what() << std::endl;
        return 1;
    }

    return 0;
}