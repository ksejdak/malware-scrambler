from Utils.Logger import Logger
from API.VirusTotalClient import VirusTotalClient

import sys

def main(argv = None):
    if(argv is None):
        argv = sys.argv

    Logger.initLogger()
    log = Logger.getLogger()

    #if(len(argv) != 3):
    #    log.error("malware directory not specified!")
    #    log.info("usage: VirusTotalAPI <directory>")
    #    return 1

    #filesDirectory = argv[1]
    filesDirectory = "C:\\Users\Kuba\\Downloads\\test\\"

    try:
        virusTotalClient = VirusTotalClient()
        virusTotalClient.run(filesDirectory)
    except IOError:
        log.error("VirusTotal API terminated")
    except KeyboardInterrupt:
        log.info("VirusTotal API terminated")

if(__name__ == '__main__'):
    main()